var T=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var ne=Object.prototype.hasOwnProperty;var re=(t,e,n)=>e in t?T(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var oe=(t,e)=>{for(var n in e)T(t,n,{get:e[n],enumerable:!0})},ce=(t,e,n,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of te(e))!ne.call(t,r)&&r!==n&&T(t,r,{get:()=>e[r],enumerable:!(o=ee(e,r))||o.enumerable});return t};var ie=t=>ce(T({},"__esModule",{value:!0}),t);var w=(t,e,n)=>(re(t,typeof e!="symbol"?e+"":e,n),n);var Le={};oe(Le,{Bytes:()=>K,Enum:()=>U,Option:()=>C,Result:()=>b,Struct:()=>k,Tuple:()=>y,Vector:()=>B,_void:()=>j,bool:()=>S,compact:()=>u,createCodec:()=>i,createDecoder:()=>se,enhanceCodec:()=>v,enhanceDecoder:()=>I,enhanceEncoder:()=>E,i128:()=>ge,i16:()=>fe,i256:()=>De,i32:()=>pe,i64:()=>ye,i8:()=>ue,str:()=>M,u128:()=>le,u16:()=>g,u256:()=>Oe,u32:()=>O,u64:()=>A,u8:()=>m});module.exports=ie(Le);var R={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,b:11,c:12,d:13,e:14,f:15,A:10,B:11,C:12,D:13,E:14,F:15};function de(t){let e=t.length%2,n=(t[1]==="x"?2:0)+e,o=(t.length-n)/2+e,r=new Uint8Array(o);e&&(r[0]=0|R[t[2]]);for(let c=0;c<o;){let d=n+c*2,f=R[t[d]],D=R[t[d+1]];r[e+c++]=f<<4|D}return r}var x=class extends Uint8Array{constructor(n){super(n);w(this,"i",0);w(this,"v");this.v=new DataView(n)}},s=t=>e=>t(e instanceof x?e:new x(e instanceof Uint8Array?e.buffer:typeof e=="string"?de(e).buffer:e));var a=t=>{let e=t.length,n=0;for(let r=0;r<e;r++)n+=t[r].length;let o=new Uint8Array(n);for(let r=0,c=0;r<e;r++){let d=t[r];o.set(d,c),c+=d.byteLength}return o};function l(t,e){let n=Object.keys(t),o=n.length,r={};for(let c=0;c<o;c++){let d=n[c];r[d]=e(t[d],d)}return r}var se=s,i=(t,e)=>{let n=[t,e];return n.enc=t,n.dec=e,n},E=(t,e)=>n=>t(e(n)),I=(t,e)=>n=>e(t(n)),v=([t,e],n,o)=>i(E(t,n),I(e,o));function ae(t,e){return s(n=>{let o=n.v[e](n.i,!0);return n.i+=t,o})}function me(t,e){return n=>{let o=new Uint8Array(t);return new DataView(o.buffer)[e](0,n,!0),o}}function p(t,e,n){return i(me(t,n),ae(t,e))}var m=p(1,"getUint8","setUint8"),g=p(2,"getUint16","setUint16"),O=p(4,"getUint32","setUint32"),A=p(8,"getBigUint64","setBigUint64"),ue=p(1,"getInt8","setInt8"),fe=p(2,"getInt16","setInt16"),pe=p(4,"getInt32","setInt32"),ye=p(8,"getBigInt64","setBigInt64"),V=t=>{let e=new Uint8Array(16),n=new DataView(e.buffer);return n.setBigInt64(0,t,!0),n.setBigInt64(8,t>>64n,!0),e},h=t=>s(e=>{let{v:n,i:o}=e,r=n.getBigUint64(o,!0),c=n[t](o+8,!0);return e.i+=16,c<<64n|r}),le=i(V,h("getBigUint64")),ge=i(V,h("getBigInt64")),L=t=>{let e=new Uint8Array(32),n=new DataView(e.buffer);return n.setBigInt64(0,t,!0),n.setBigInt64(8,t>>64n,!0),n.setBigInt64(16,t>>128n,!0),n.setBigInt64(24,t>>192n,!0),e},_=t=>s(e=>{let n=e.v.getBigUint64(e.i,!0);return e.i+=8,n|=e.v.getBigUint64(e.i,!0)<<64n,e.i+=8,n|=e.v.getBigUint64(e.i,!0)<<128n,e.i+=8,n|=e.v[t](e.i,!0)<<192n,e.i+=8,n}),Oe=i(L,_("getBigUint64")),De=i(L,_("getBigInt64"));var S=v(m,t=>t?1:0,Boolean);var Te=[m[1],g[1],O[1]],xe=s(t=>{let e=t[t.i],n=e&3;if(n<3)return Te[n](t)>>>2;let o=(e>>>2)+4;t.i++;let r=0n,c=o/8|0,d=0n;for(let D=0;D<c;D++)r=A[1](t)<<d|r,d+=64n;let f=o%8;return f>3&&(r=BigInt(O[1](t))<<d|r,d+=32n,f-=4),f>1&&(r=BigInt(g[1](t))<<d|r,d+=16n,f-=2),f&&(r=BigInt(m[1](t))<<d|r),r}),Ee=1n<<56n,Ie=1<<24,Ae=256,Ke=4294967295n,Ue=1<<6,Ce=1<<14,be=1<<30,ke=t=>{if(t<0)throw new Error(`Wrong compact input (${t})`);let e=Number(t)<<2;if(t<Ue)return m[0](e);if(t<Ce)return g[0](e|1);if(t<be)return O[0](e|2);let n=[new Uint8Array(1)],o=BigInt(t);for(;o>=Ee;)n.push(A[0](o)),o>>=64n;o>=Ie&&(n.push(O[0](Number(o&Ke))),o>>=32n);let r=Number(o);r>=Ae&&(n.push(g[0](r)),r>>=16),r&&n.push(m[0](r));let c=a(n);return c[0]=c.length-5<<2|3,c},u=i(ke,xe);var Be=new TextEncoder,we=t=>{let e=Be.encode(t);return a([u.enc(e.length),e])},Re=new TextDecoder,ve=s(t=>{let e=u.dec(t),n=new DataView(t.buffer,t.i,e);return t.i+=e,Re.decode(n)}),M=i(we,ve);var Ve=()=>{},he=new Uint8Array(0),j=i(()=>he,Ve);var N=t=>t===void 0?e=>a([u.enc(e.length),e]):e=>e.length===t?e:e.slice(0,t),P=t=>s(e=>{let n=t===void 0?u.dec(e):t!==1/0?t:e.byteLength-e.i,o=new Uint8Array(e.buffer.slice(e.i,e.i+n));return e.i+=n,o}),K=t=>i(N(t),P(t));K.enc=N;K.dec=P;var Y=(t,e)=>{let n=Object.keys(t),o=new Map(e?.map((c,d)=>[n[d],c])??n.map((c,d)=>[c,d])),r=c=>o.get(c);return({tag:c,value:d})=>a([m.enc(r(c)),t[c](d)])},F=(t,e)=>{let n=Object.keys(t),o=new Map(e?.map((r,c)=>[r,n[c]])??n.map((r,c)=>[c,r]));return s(r=>{let c=m.dec(r),d=o.get(c),f=t[d];return{tag:d,value:f(r)}})},U=(t,...e)=>i(Y(l(t,([n])=>n),...e),F(l(t,([,n])=>n),...e));U.enc=Y;U.dec=F;var H=t=>s(e=>m[1](e)>0?t(e):void 0),W=t=>e=>{let n=new Uint8Array(1);return e===void 0?n:(n[0]=1,a([n,t(e)]))},C=t=>i(W(t[0]),H(t[1]));C.enc=W;C.dec=H;var G=(t,e)=>s(n=>{let o=m[1](n)===0,c=(o?t:e)(n);return{success:o,value:c}}),X=(t,e)=>({success:n,value:o})=>a([m[0](n?0:1),(n?t:e)(o)]),b=(t,e)=>i(X(t[0],e[0]),G(t[1],e[1]));b.dec=G;b.enc=X;var $=(...t)=>s(e=>t.map(n=>n(e))),q=(...t)=>e=>a(t.map((n,o)=>n(e[o]))),y=(...t)=>i(q(...t.map(([e])=>e)),$(...t.map(([,e])=>e)));y.enc=q;y.dec=$;var J=t=>{let e=Object.keys(t);return E(y.enc(...Object.values(t)),n=>e.map(o=>n[o]))},Q=t=>{let e=Object.keys(t);return I(y.dec(...Object.values(t)),n=>Object.fromEntries(n.map((o,r)=>[e[r],o])))},k=t=>i(J(l(t,e=>e[0])),Q(l(t,e=>e[1])));k.enc=J;k.dec=Q;var Z=(t,e)=>e>=0?n=>a(n.map(t)):n=>a([u.enc(n.length),a(n.map(t))]),z=(t,e)=>s(n=>{let o=e>=0?e:u.dec(n),r=new Array(o);for(let c=0;c<o;c++)r[c]=t(n);return r}),B=(t,e)=>i(Z(t[0],e),z(t[1],e));B.enc=Z;B.dec=z;
//# sourceMappingURL=scale-ts.cjs.production.min.js.map
